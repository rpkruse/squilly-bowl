import{a as P,b as N,c as I,d as G,f as A,g as $,h as F}from"./chunk-XUMLYATX.js";import{b as E,c as M,d as V,g as k}from"./chunk-CVK45U43.js";import{a as T,c as h}from"./chunk-XPR4DZM4.js";import{Fa as d,Ia as f,Ma as o,Na as a,Oa as C,Pa as g,Sa as _,Ta as l,Ua as u,Va as w,Z as b,ab as S,ba as m,ca as p,wa as c,xa as v}from"./chunk-SO7XCAGI.js";var y=class{static CreateNewGame(){return{maxRounds:-1,players:[],round:1,teams:[],hasTeams:!1,usb:!1}}};var x=class{static CreateNewPlayer(s,e,i=!1){return{id:s,name:e,isEditMode:i}}};function j(n,s){if(n&1&&(o(0,"span",27),u(1),a()),n&2){let e=l().$implicit;c(1),w(e.name)}}function D(n,s){if(n&1){let e=g();o(0,"div",28)(1,"input",29),_("ngModelChange",function(t){m(e);let r=l().$implicit;return p(r.name=t)}),a()()}if(n&2){let e=l().$implicit;c(1),d("ngModel",e.name)}}function R(n,s){if(n&1){let e=g();o(0,"button",30),_("click",function(){m(e);let t=l().$implicit,r=l(2);return p(r.editPlayerClicked(t))}),C(1,"i",31),a()}}function L(n,s){if(n&1){let e=g();o(0,"button",30),_("click",function(){m(e);let t=l().$implicit,r=l(2);return p(r.savePlayerEditClicked(t))}),C(1,"i",32),a()}}function U(n,s){if(n&1){let e=g();o(0,"button",33),_("click",function(){m(e);let t=l().$implicit,r=l(2);return p(r.deletePlayer(t))}),C(1,"i",34),a()}}function q(n,s){if(n&1&&(o(0,"div",22),f(1,j,2,1,"span",23)(2,D,2,1,"div",24),o(3,"span"),f(4,R,2,0,"button",25)(5,L,2,0,"button",25)(6,U,2,0,"button",26),a()()),n&2){let e=s.$implicit;c(1),d("ngIf",!e.isEditMode),c(1),d("ngIf",e.isEditMode),c(2),d("ngIf",!e.isEditMode),c(1),d("ngIf",e.isEditMode),c(1),d("ngIf",!e.isEditMode)}}function B(n,s){if(n&1){let e=g();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),u(5,"Game Settings"),a(),o(6,"div",6)(7,"h5",7),u(8,"Adjust the settings to your game:"),a(),o(9,"div",8)(10,"label",9),u(11,"Team Games"),a(),o(12,"input",10),_("ngModelChange",function(t){m(e);let r=l();return p(r.game.hasTeams=t)})("change",function(){m(e);let t=l();return p(t.saveGameToStorage())}),a()(),o(13,"div",8)(14,"label",11),u(15,"Ultimate SquillyBowl"),a(),o(16,"input",12),_("ngModelChange",function(t){m(e);let r=l();return p(r.game.usb=t)})("change",function(){m(e);let t=l();return p(t.saveGameToStorage())}),a()()()()(),o(17,"div",13)(18,"div",4)(19,"h5",5),u(20,"Player Settings"),a(),o(21,"div",6)(22,"h5",7),u(23,"Add or remove players from your game:"),a(),o(24,"div",14)(25,"input",15),_("keydown.enter",function(){m(e);let t=l();return p(t.addNewPlayer())})("ngModelChange",function(t){m(e);let r=l();return p(r.newPlayerName=t)}),a(),o(26,"button",16),_("click",function(){m(e);let t=l();return p(t.addNewPlayer())}),u(27,"Add Player"),a()(),o(28,"div",17),f(29,q,7,5,"div",18),a()()()()(),o(30,"div",19)(31,"div",20)(32,"button",21),_("click",function(){m(e);let t=l();return p(t.startGame())}),u(33,"Start!"),a()()()()}if(n&2){let e=l();c(12),d("ngModel",e.game.hasTeams),c(4),d("ngModel",e.game.usb),c(9),d("ngModel",e.newPlayerName),c(1),d("disabled",!e.addNewPlayerEnabled),c(3),d("ngForOf",e.players),c(3),d("disabled",!e.startEnabled)}}var O=(()=>{let s=class s{constructor(i,t,r){this.storageService=i,this.gameService=t,this.router=r,this.hasTeamRound=!0,this.players=[],this.newPlayerName=""}ngOnInit(){this.storageService.removeSessionData(h.GAME),this.storageService.removeSessionData(h.ROUNDS),this.game=y.CreateNewGame(),this.saveGameToStorage()}editPlayerClicked(i){i.isEditMode=!0}savePlayerEditClicked(i){i.isEditMode=!1}addNewPlayer(){this.addNewPlayerEnabled&&(this.players.push(x.CreateNewPlayer(this.players.length,this.newPlayerName)),this.newPlayerName="")}deletePlayer(i){let t=this.players.findIndex(r=>r.id===i.id);if(t>=0){this.players.splice(t,1);for(let r=t;r<this.players.length;r++)this.players[r].id--}}startGame(){this.game=this.gameService.generateGame(this.players,this.game),this.saveGameToStorage(),this.router.navigate([`${T.PLAY}`])}saveGameToStorage(){this.storageService.setValue(h.GAME,this.game)}get startEnabled(){return this.players.length>0}get addNewPlayerEnabled(){return this.newPlayerName.trim().length>0}};s.\u0275fac=function(t){return new(t||s)(v($),v(F),v(k))},s.\u0275cmp=b({type:s,selectors:[["app-create"]],standalone:!0,features:[S],decls:1,vars:1,consts:[["class","container mt-5 overflow-auto",4,"ngIf"],[1,"container","mt-5","overflow-auto"],[1,"row"],[1,"col-md-6"],[1,"card","h-100"],[1,"card-header","text-center"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-check","form-switch","text-left"],["for","teamsSwitch",1,"form-check-label"],["type","checkbox","role","switch","id","teamsSwitch",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","usbSwitch",1,"form-check-label"],["type","checkbox","role","switch","id","usbSwitch",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"col-md-6","mt-5","mt-md-0"],[1,"input-group","mb-1"],["type","text",1,"form-control",3,"ngModel","keydown.enter","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"list-group","list-group-flush","playerList"],["class","list-group-item d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"row","mt-5"],[1,"col-12","text-center","d-grid"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"list-group-item","d-flex","justify-content-between"],["class","fw-bold mt-auto mb-auto",4,"ngIf"],["class","input-group",4,"ngIf"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"fw-bold","mt-auto","mb-auto"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-gear-fill"],[1,"bi","bi-save"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash3"]],template:function(t,r){t&1&&f(0,B,34,6,"div",0),t&2&&d("ngIf",r.game)},dependencies:[V,E,M,A,N,P,I,G],styles:[".playerList[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;height:250px}"]});let n=s;return n})();var ae=[{path:"",component:O}];export{ae as default};
